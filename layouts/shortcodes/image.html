{{/*
  File: layouts/shortcodes/image.html
  This shortcode now acts as a wrapper, calling the central responsive-image partial.
*/}}
{{ $src := .Get "src" }}
{{ $resource := .Page.Resources.GetMatch $src }}
{{ if $resource }}
  {{ partial "responsive-image.html" (dict 
      "page"     .Page 
      "resource" $resource 
      "alt"      (.Get "alt") 
      "class"    (.Get "class") 
      "lazy"     (.Get "lazy")
  ) }}
{{ else }}
  <p style="color: red;"><strong>Image Shortcode Error:</strong> Resource not found for src '{{ $src }}'</p>
{{ end }}
